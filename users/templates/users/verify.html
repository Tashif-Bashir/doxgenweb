<h2>Enter OTP</h2>
<form method="post">
  {% csrf_token %}
  <input type="text" name="otp" placeholder="Enter 6-digit code" required><br><br>
  <button type="submit">Verify</button>
</form>

{% if error %}<p style="color:red;">{{ error }}</p>{% endif %}

<p id="timer">Resend in 30s...</p>
<a href="{% url 'resend_otp' %}" id="resend" style="display:none;">Resend OTP</a>

<script>
  let seconds = 30;
  let timer = setInterval(() => {
    seconds--;
    if (seconds > 0) {
      document.getElementById("timer").textContent = `Resend in ${seconds}s...`;
    } else {
      clearInterval(timer);
      document.getElementById("timer").style.display = "none";
      document.getElementById("resend").style.display = "inline";
    }
  }, 1000);
</script>
